# PlanFlow - Product Vision & Implementation Guide

> AI-Native Project Management for Claude Code

**Version:** 1.0.0
**Last Updated:** 2026-01-28
**Status:** Planning Phase

---

## Table of Contents

1. [Product Overview](#1-product-overview)
2. [Architecture](#2-architecture)
3. [Team Collaboration Scenarios](#3-team-collaboration-scenarios)
4. [Real-time Synchronization](#4-real-time-synchronization)
5. [Code Review System](#5-code-review-system)
6. [Backend API Design](#6-backend-api-design)
7. [MCP Server Implementation](#7-mcp-server-implementation)
8. [Business Model & Pricing](#8-business-model--pricing)
9. [MVP Implementation Plan](#9-mvp-implementation-plan)
10. [Code Examples](#10-code-examples)
11. [Deployment & Infrastructure](#11-deployment--infrastructure)
12. [Payment Alternatives (Non-Stripe)](#12-payment-alternatives)

---

## 1. Product Overview

### 1.1 Problem Statement

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Developer Pain Points                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ğŸ˜© Jira/Linear/Asana = Context Switching                       â”‚
â”‚     Code writing â†’ Browser â†’ Task update â†’ Back to code         â”‚
â”‚                                                                 â”‚
â”‚  ğŸ˜© AI Assistants Don't Know Project Context                    â”‚
â”‚     Have to explain to ChatGPT every time what you're working onâ”‚
â”‚                                                                 â”‚
â”‚  ğŸ˜© Plans and Code are Separated                                â”‚
â”‚     Plan in Notion, code in GitHub, discussion in Slack         â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 Solution: PlanFlow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PlanFlow - AI-Native Project Management                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  âœ… AI-Native Project Management                                â”‚
â”‚     Integrated in Claude Code, no context switching             â”‚
â”‚                                                                 â”‚
â”‚  âœ… Code-First Workflow                                         â”‚
â”‚     Never leave the terminal, everything in one place           â”‚
â”‚                                                                 â”‚
â”‚  âœ… Intelligent Planning                                        â”‚
â”‚     AI helps with planning, not just tracking                   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3 Unique Selling Proposition (USP)

> "The only project management tool built FOR AI-assisted development, not adapted to it."

### 1.4 Target Audience

| Persona             | Description                                          | Pain Point         |
| ------------------- | ---------------------------------------------------- | ------------------ |
| AI-Native Developer | 25-35, uses Claude/Copilot daily, startup/freelancer | Context switching  |
| Tech Lead           | 30-40, manages 3-10 person team                      | Overhead, meetings |
| Indie Hacker        | Side projects, fast iteration                        | Needs simplicity   |

---

## 2. Architecture

### 2.1 High-Level Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚             â”‚       â”‚             â”‚       â”‚                         â”‚  â”‚
â”‚    â”‚ Claude Code â”‚â—„â”€MCPâ”€â–ºâ”‚ MCP Server  â”‚â—„â”€HTTPâ”€â–ºâ”‚     Backend API        â”‚  â”‚
â”‚    â”‚             â”‚       â”‚ (Local)     â”‚       â”‚   (api.planflow.io)    â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚                â”‚
â”‚                                                            â”‚                â”‚
â”‚                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚                                â”‚                           â–¼               â”‚â”‚
â”‚                                â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚â”‚
â”‚                                â”‚  â”‚  PostgreSQL â”‚    â”‚  Redis   â”‚          â”‚â”‚
â”‚                                â”‚  â”‚  (Data)     â”‚    â”‚ (Cache/  â”‚          â”‚â”‚
â”‚                                â”‚  â”‚             â”‚    â”‚  PubSub) â”‚          â”‚â”‚
â”‚                                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚â”‚
â”‚                                â”‚         Database Layer                    â”‚â”‚
â”‚                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                            â–²                â”‚
â”‚                                                            â”‚                â”‚
â”‚                                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚                                                   â”‚   Frontend      â”‚       â”‚
â”‚                                                   â”‚   (React/Vue)   â”‚       â”‚
â”‚                                                   â”‚   planflow.io   â”‚       â”‚
â”‚                                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 Technology Stack

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Recommended Stack                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ğŸ–¥ï¸ BACKEND                                                     â”‚
â”‚  â”œâ”€â”€ Runtime:      Node.js 20+                                  â”‚
â”‚  â”œâ”€â”€ Framework:    Hono (lightweight, fast)                     â”‚
â”‚  â”œâ”€â”€ Database:     PostgreSQL (Neon - serverless)               â”‚
â”‚  â”œâ”€â”€ ORM:          Drizzle ORM (type-safe)                      â”‚
â”‚  â”œâ”€â”€ Auth:         Better-Auth or Lucia                         â”‚
â”‚  â”œâ”€â”€ Validation:   Zod                                          â”‚
â”‚  â””â”€â”€ Hosting:      Railway or Render                            â”‚
â”‚                                                                 â”‚
â”‚  ğŸŒ FRONTEND                                                    â”‚
â”‚  â”œâ”€â”€ Framework:    Next.js 14+ (App Router)                     â”‚
â”‚  â”œâ”€â”€ Styling:      Tailwind CSS                                 â”‚
â”‚  â”œâ”€â”€ Components:   shadcn/ui                                    â”‚
â”‚  â”œâ”€â”€ State:        Zustand or TanStack Query                    â”‚
â”‚  â””â”€â”€ Hosting:      Vercel                                       â”‚
â”‚                                                                 â”‚
â”‚  ğŸ”Œ MCP SERVER                                                  â”‚
â”‚  â”œâ”€â”€ Runtime:      Node.js                                      â”‚
â”‚  â”œâ”€â”€ SDK:          @modelcontextprotocol/sdk                    â”‚
â”‚  â””â”€â”€ Distribution: npm package                                  â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“¦ MONOREPO                                                    â”‚
â”‚  â””â”€â”€ Turborepo + pnpm                                           â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 Project Structure

```
planflow/
â”œâ”€â”€ package.json
â”œâ”€â”€ pnpm-workspace.yaml
â”œâ”€â”€ turbo.json
â”‚
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ api/                      # Backend API
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts          # Entry point
â”‚   â”‚   â”‚   â”œâ”€â”€ app.ts            # Hono app setup
â”‚   â”‚   â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ projects.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ tasks.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ tokens.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ webhooks.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ rateLimit.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ plan-parser.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ payment.ts
â”‚   â”‚   â”‚   â””â”€â”€ lib/
â”‚   â”‚   â”‚       â””â”€â”€ db.ts
â”‚   â”‚   â””â”€â”€ drizzle/
â”‚   â”‚       â”œâ”€â”€ schema.ts
â”‚   â”‚       â””â”€â”€ migrations/
â”‚   â”‚
â”‚   â”œâ”€â”€ web/                      # Next.js Frontend
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”‚   â”œâ”€â”€ (marketing)/      # Landing page
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ pricing/
â”‚   â”‚   â”‚   â”œâ”€â”€ (auth)/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ register/
â”‚   â”‚   â”‚   â”œâ”€â”€ (dashboard)/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ projects/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ settings/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ billing/
â”‚   â”‚   â”‚   â””â”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ lib/
â”‚   â”‚
â”‚   â””â”€â”€ mcp/                      # MCP Server
â”‚       â”œâ”€â”€ package.json
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ index.ts
â”‚       â”‚   â”œâ”€â”€ server.ts
â”‚       â”‚   â”œâ”€â”€ tools/
â”‚       â”‚   â”œâ”€â”€ api-client.ts
â”‚       â”‚   â””â”€â”€ config.ts
â”‚       â””â”€â”€ bin/
â”‚           â””â”€â”€ planflow-mcp
â”‚
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ db/                       # Shared database schema
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â”œâ”€â”€ schema.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ types/                    # Shared TypeScript types
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â””â”€â”€ plan-parser/              # Plan parsing logic
â”‚       â”œâ”€â”€ package.json
â”‚       â”œâ”€â”€ parser.ts
â”‚       â””â”€â”€ types.ts
â”‚
â””â”€â”€ docker-compose.yml            # Local development
```

---

## 3. Team Collaboration Scenarios

### 3.1 Scenario: Project Kickoff (Team Lead)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Giorgi (Team Lead) - In Claude Code                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  > /plan:new                                                    â”‚
â”‚  âœ“ Project plan created: PROJECT_PLAN.md                        â”‚
â”‚                                                                 â”‚
â”‚  > /plan:push                                                   â”‚
â”‚  âœ“ Project uploaded to server                                   â”‚
â”‚  âœ“ Link: https://planflow.io/projects/ecommerce-app             â”‚
â”‚                                                                 â”‚
â”‚  > /plan:team invite nino@email.com --role=developer            â”‚
â”‚  âœ“ Invitation sent to Nino                                      â”‚
â”‚                                                                 â”‚
â”‚  > /plan:team invite dato@email.com --role=developer            â”‚
â”‚  âœ“ Invitation sent to Dato                                      â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 Scenario: Developer Daily Workflow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Nino (Developer) - Starting work in the morning                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  > /plan:pull                                                   â”‚
â”‚  âœ“ Project updated                                              â”‚
â”‚  ğŸ“‹ Assigned to you: 2 tasks                                    â”‚
â”‚     â€¢ T2.1 - User Authentication [HIGH]                         â”‚
â”‚     â€¢ T2.3 - Password Reset [MEDIUM]                            â”‚
â”‚                                                                 â”‚
â”‚  > /plan:next --mine                                            â”‚
â”‚  ğŸ’¡ Recommendation: T2.1 - User Authentication                  â”‚
â”‚     Reason: High priority, T2.3 depends on this                 â”‚
â”‚                                                                 â”‚
â”‚  > /plan:update T2.1 start                                      â”‚
â”‚  âœ“ T2.1 started (IN_PROGRESS)                                   â”‚
â”‚  ğŸ“¡ Team notified                                               â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 Scenario: Collaboration and Communication

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Nino - Encountered a problem                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  > /plan:comment T2.1 "Need help with OAuth integration"        â”‚
â”‚  âœ“ Comment added                                                â”‚
â”‚  ğŸ“¡ Team notified                                               â”‚
â”‚                                                                 â”‚
â”‚  > /plan:block T2.1 "Don't have Google OAuth credentials"       â”‚
â”‚  âœ“ T2.1 blocked                                                 â”‚
â”‚  âš ï¸ Giorgi (Team Lead) notified                                 â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Giorgi - Response                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  > /plan:notifications                                          â”‚
â”‚  ğŸ”” New notifications:                                          â”‚
â”‚     â€¢ Nino: comment on T2.1 (5 min ago)                         â”‚
â”‚     â€¢ Nino: blocked T2.1 (3 min ago)                            â”‚
â”‚                                                                 â”‚
â”‚  > /plan:comment T2.1 "Sent credentials via Slack"              â”‚
â”‚  âœ“ Comment added                                                â”‚
â”‚                                                                 â”‚
â”‚  > /plan:unblock T2.1                                           â”‚
â”‚  âœ“ T2.1 unblocked                                               â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.4 Scenario: Progress Tracking (Website Dashboard)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Website Dashboard - https://planflow.io/projects/ecommerce     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ğŸ“Š Progress: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 42%                          â”‚
â”‚                                                                 â”‚
â”‚  ğŸ‘¥ Team:                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ Member   â”‚ Role       â”‚ Current Task      â”‚ Status  â”‚        â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”‚
â”‚  â”‚ Giorgi   â”‚ Team Lead  â”‚ -                 â”‚ ğŸŸ¢      â”‚        â”‚
â”‚  â”‚ Nino     â”‚ Developer  â”‚ T2.1 Auth         â”‚ ğŸ”µ      â”‚        â”‚
â”‚  â”‚ Dato     â”‚ Developer  â”‚ T1.5 UI           â”‚ ğŸ”µ      â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“ˆ Activity today:                                             â”‚
â”‚  â€¢ 09:15 - Nino started T2.1                                    â”‚
â”‚  â€¢ 09:30 - Dato completed T1.4                                  â”‚
â”‚  â€¢ 10:00 - Nino blocked T2.1                                    â”‚
â”‚  â€¢ 10:15 - Giorgi unblocked T2.1                                â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.5 Scenario: Sprint Planning

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Giorgi - Weekly planning (Monday)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  > /plan:sprint create "Sprint 3" --duration=1week              â”‚
â”‚  âœ“ Sprint 3 created (Jan 27 - Feb 3)                            â”‚
â”‚                                                                 â”‚
â”‚  > /plan:sprint add T2.3 T2.4 T2.5 T3.1                         â”‚
â”‚  âœ“ 4 tasks added to Sprint 3                                    â”‚
â”‚                                                                 â”‚
â”‚  > /plan:assign T2.3 --to=dato                                  â”‚
â”‚  > /plan:assign T2.4 --to=nino                                  â”‚
â”‚  > /plan:assign T2.5 --to=dato                                  â”‚
â”‚  > /plan:assign T3.1 --to=nino                                  â”‚
â”‚  âœ“ Tasks distributed                                            â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“Š Sprint 3 Plan:                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ ID     â”‚ Task                â”‚ Member â”‚ Due      â”‚           â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚
â”‚  â”‚ T2.3   â”‚ Password Reset      â”‚ Dato   â”‚ Jan 29   â”‚           â”‚
â”‚  â”‚ T2.4   â”‚ Email Verification  â”‚ Nino   â”‚ Jan 30   â”‚           â”‚
â”‚  â”‚ T2.5   â”‚ 2FA                 â”‚ Dato   â”‚ Feb 1    â”‚           â”‚
â”‚  â”‚ T3.1   â”‚ Product Catalog     â”‚ Nino   â”‚ Feb 3    â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.6 Daily Workflow Diagram

```
        Morning                   Midday                    Evening
          â”‚                        â”‚                          â”‚
          â–¼                        â–¼                          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ /plan:   â”‚            â”‚ Code     â”‚              â”‚ /plan:   â”‚
    â”‚ pull     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ writing  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ update   â”‚
    â”‚          â”‚            â”‚          â”‚              â”‚ done     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                        â”‚                          â”‚
          â–¼                        â–¼                          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ /plan:   â”‚            â”‚ /plan:   â”‚              â”‚ /plan:   â”‚
    â”‚ next     â”‚            â”‚ comment  â”‚              â”‚ push     â”‚
    â”‚ --mine   â”‚            â”‚ (question)â”‚              â”‚          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.7 Roles and Permissions

| Role      | Create | Assign | Delete | Add Members |
| --------- | ------ | ------ | ------ | ----------- |
| Owner     | âœ…     | âœ…     | âœ…     | âœ…          |
| Team Lead | âœ…     | âœ…     | âŒ     | âœ…          |
| Developer | âŒ     | âŒ     | âŒ     | âŒ          |
| Viewer    | âŒ     | âŒ     | âŒ     | âŒ          |

---

## 4. Real-time Synchronization

### 4.1 Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         WebSocket Server                                â”‚
â”‚                    wss://planflow.io/ws                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–²                    â–²                    â–²
         â”‚                    â”‚                    â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚  Nino   â”‚          â”‚  Dato   â”‚          â”‚ Giorgi  â”‚
    â”‚ Claude  â”‚          â”‚ Website â”‚          â”‚ Claude  â”‚
    â”‚  Code   â”‚          â”‚ Browser â”‚          â”‚  Code   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 Connection Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Nino starts working                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  > /plan:sync --live                                            â”‚
â”‚                                                                 â”‚
â”‚  ğŸ”Œ Connecting to server...                                     â”‚
â”‚  âœ“ Real-time sync enabled                                       â”‚
â”‚  ğŸ‘¥ Online: Giorgi, Dato (on website)                           â”‚
â”‚                                                                 â”‚
â”‚  ğŸ’¡ Changes will sync automatically                             â”‚
â”‚  ğŸ’¡ To disable: /plan:sync --stop                               â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 Change Propagation

```
        Nino (Claude Code)              Server                 Dato (Website)
              â”‚                            â”‚                         â”‚
              â”‚  /plan:update T2.1 start   â”‚                         â”‚
              â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                         â”‚
              â”‚                            â”‚                         â”‚
              â”‚                            â”‚   broadcast: task_updated
              â”‚                            â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
              â”‚                            â”‚                         â”‚
              â”‚                            â”‚                    ğŸ”” Notification:
              â”‚                            â”‚                    "Nino started T2.1"
              â”‚                            â”‚                         â”‚
              â”‚   ack: task_updated        â”‚                         â”‚
              â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                         â”‚
              â”‚                            â”‚                         â”‚
         âœ“ T2.1 IN_PROGRESS               â”‚                    Kanban updated
              â”‚                            â”‚                         â”‚
```

### 4.4 Event Types

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  WebSocket Events                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ğŸ“‹ Tasks:                                                      â”‚
â”‚     â€¢ task_created     - New task created                       â”‚
â”‚     â€¢ task_updated     - Status/details changed                 â”‚
â”‚     â€¢ task_assigned    - Task assigned to someone               â”‚
â”‚     â€¢ task_commented   - Comment added                          â”‚
â”‚     â€¢ task_blocked     - Task blocked                           â”‚
â”‚     â€¢ task_unblocked   - Task unblocked                         â”‚
â”‚                                                                 â”‚
â”‚  ğŸ‘¥ Team:                                                       â”‚
â”‚     â€¢ user_online      - Member came online                     â”‚
â”‚     â€¢ user_offline     - Member went offline                    â”‚
â”‚     â€¢ user_typing      - Member typing comment                  â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“Š Project:                                                    â”‚
â”‚     â€¢ project_updated  - Plan updated                           â”‚
â”‚     â€¢ sprint_created   - New sprint                             â”‚
â”‚     â€¢ milestone_reached - Milestone completed                   â”‚
â”‚                                                                 â”‚
â”‚  ğŸ” Code Review:                                                â”‚
â”‚     â€¢ review_requested - Review requested                       â”‚
â”‚     â€¢ review_submitted - Review completed                       â”‚
â”‚     â€¢ pr_merged        - PR merged                              â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.5 Notifications in Claude Code

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Nino working, sync enabled                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  > (writing code...)                                            â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚  ğŸ”” [10:15] Dato started T2.5 (2FA)                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚                                                                 â”‚
â”‚  > (continues working...)                                       â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚  ğŸ”” [10:32] Giorgi: comment on T2.1                             â”‚
â”‚     "Change API endpoint name to /auth/login"                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚                                                                 â”‚
â”‚  > /plan:comments T2.1                                          â”‚
â”‚  ğŸ“ Comments on T2.1:                                           â”‚
â”‚     [10:32] Giorgi: Change API endpoint name...                 â”‚
â”‚                                                                 â”‚
â”‚  > /plan:reply T2.1 "Got it, changing now"                      â”‚
â”‚  âœ“ Reply sent                                                   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.6 Conflict Resolution

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Conflict Scenario                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Nino (Claude Code)         Dato (Website)                      â”‚
â”‚       â”‚                          â”‚                              â”‚
â”‚       â”‚   T2.1 done              â”‚   T2.1 blocked               â”‚
â”‚       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                              â”‚
â”‚       â”‚         â–¼    â–¼           â”‚                              â”‚
â”‚       â”‚      âš ï¸ CONFLICT         â”‚                              â”‚
â”‚       â”‚         â”‚                â”‚                              â”‚
â”‚                 â–¼                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚  Server: Conflict Resolution                â”‚                â”‚
â”‚  â”‚                                             â”‚                â”‚
â”‚  â”‚  Rule: Last write wins                      â”‚                â”‚
â”‚  â”‚        (Last-Write-Wins)                    â”‚                â”‚
â”‚  â”‚                                             â”‚                â”‚
â”‚  â”‚  Or: More restrictive status wins           â”‚                â”‚
â”‚  â”‚      (blocked > done)                       â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                 â”‚                                                â”‚
â”‚                 â–¼                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚  Nino is notified:                          â”‚                â”‚
â”‚  â”‚  âš ï¸ T2.1 blocked by Dato (your change       â”‚                â”‚
â”‚  â”‚     was overwritten)                        â”‚                â”‚
â”‚  â”‚  Reason: "API credentials not working"      â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.7 Offline Mode

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Nino loses connection                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚  âš ï¸ Connection lost. Offline mode.                              â”‚
â”‚  ğŸ’¾ Changes will be saved locally                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚                                                                 â”‚
â”‚  > /plan:update T2.1 done                                       â”‚
â”‚  âœ“ T2.1 completed (locally)                                     â”‚
â”‚  ğŸ“‹ Pending sync: 1 change                                      â”‚
â”‚                                                                 â”‚
â”‚  > /plan:update T2.4 start                                      â”‚
â”‚  âœ“ T2.4 started (locally)                                       â”‚
â”‚  ğŸ“‹ Pending sync: 2 changes                                     â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚  âœ… Connection restored                                          â”‚
â”‚  ğŸ”„ Syncing: 2 changes...                                       â”‚
â”‚  âœ“ All changes synced                                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. Code Review System

### 5.1 GitHub/GitLab Integration

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚   PROJECT_PLAN.md â—„â”€â”€â”€â”€â”€â”€â”€â”€â–º Website â—„â”€â”€â”€â”€â”€â”€â”€â”€â–º GitHub/GitLab  â”‚
â”‚   (Tasks)                    (Management)        (Code, PRs)    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 Review Workflow - Complete Cycle

#### Step 1: Nino completes task and creates PR

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Nino - Task completion                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  > git add . && git commit -m "feat: add user authentication"   â”‚
â”‚  > git push origin feature/user-auth                            â”‚
â”‚                                                                 â”‚
â”‚  > /plan:pr T2.1                                                â”‚
â”‚                                                                 â”‚
â”‚  ğŸ”— PR created: #42                                             â”‚
â”‚  ğŸ“‹ Task: T2.1 - User Authentication                            â”‚
â”‚                                                                 â”‚
â”‚  PR description auto-filled:                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ## Task Reference                                       â”‚    â”‚
â”‚  â”‚ Closes T2.1 - User Authentication                       â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚ ## Changes                                              â”‚    â”‚
â”‚  â”‚ - Added JWT authentication                              â”‚    â”‚
â”‚  â”‚ - Created login/register endpoints                      â”‚    â”‚
â”‚  â”‚ - Added password hashing with bcrypt                    â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚ ## Testing                                              â”‚    â”‚
â”‚  â”‚ - [x] Unit tests passing                                â”‚    â”‚
â”‚  â”‚ - [x] Manual testing done                               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â”‚  ğŸ‘¤ Who should review?                                          â”‚
â”‚  > Giorgi (Team Lead)                                           â”‚
â”‚                                                                 â”‚
â”‚  âœ“ Review request sent to Giorgi                                â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Step 2: Giorgi receives notification

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Giorgi - Review request                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚  ğŸ”” Review request: PR #42 (T2.1 - User Auth)                   â”‚
â”‚     Author: Nino                                                â”‚
â”‚     Files: 8 | Added: +342 | Removed: -12                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚                                                                 â”‚
â”‚  > /plan:review #42                                             â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“‹ PR #42 - User Authentication                                â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“ Changed files:                                              â”‚
â”‚     src/auth/auth.controller.ts      (+89, -0)                  â”‚
â”‚     src/auth/auth.service.ts         (+124, -0)                 â”‚
â”‚     src/auth/auth.module.ts          (+23, -0)                  â”‚
â”‚     src/auth/jwt.strategy.ts         (+45, -0)                  â”‚
â”‚     src/auth/dto/login.dto.ts        (+18, -0)                  â”‚
â”‚     src/auth/dto/register.dto.ts     (+22, -0)                  â”‚
â”‚     src/users/users.service.ts       (+15, -8)                  â”‚
â”‚     test/auth.e2e-spec.ts            (+6, -4)                   â”‚
â”‚                                                                 â”‚
â”‚  ğŸ”— View on GitHub: https://github.com/repo/pull/42             â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Step 3: Code review and comments

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Giorgi - Code Review                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  > /plan:review #42 --file=src/auth/auth.service.ts             â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“„ src/auth/auth.service.ts                                    â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                â”‚
â”‚                                                                 â”‚
â”‚   45 â”‚   async validateUser(email: string, password: string) {  â”‚
â”‚   46 â”‚     const user = await this.usersService.findByEmail(    â”‚
â”‚   47 â”‚       email                                              â”‚
â”‚   48 â”‚     );                                                   â”‚
â”‚   49 â”‚     if (user && bcrypt.compare(password, user.password)) â”‚
â”‚   50 â”‚       return user;                                       â”‚
â”‚   51 â”‚     }                                                    â”‚
â”‚   52 â”‚     return null;                                         â”‚
â”‚   53 â”‚   }                                                      â”‚
â”‚                                                                 â”‚
â”‚  > /plan:comment #42 --line=49 "bcrypt.compare is async,        â”‚
â”‚    needs await"                                                 â”‚
â”‚                                                                 â”‚
â”‚  âœ“ Comment added on line 49                                     â”‚
â”‚                                                                 â”‚
â”‚  > /plan:comment #42 --line=50 "Use early return pattern        â”‚
â”‚    - if (!user) return null;"                                   â”‚
â”‚                                                                 â”‚
â”‚  âœ“ Comment added on line 50                                     â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Step 4: Submit review

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Giorgi - Submit review                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  > /plan:review #42 --submit                                    â”‚
â”‚                                                                 â”‚
â”‚  Review type:                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  [1] âœ… Approve - Code is good, ready to merge          â”‚    â”‚
â”‚  â”‚  [2] ğŸ’¬ Comment - Only comments, not blocking           â”‚    â”‚
â”‚  â”‚  [3] ğŸ”„ Request Changes - Changes required              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â”‚  > 3                                                            â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“ Overall comment (optional):                                 â”‚
â”‚  > "Good implementation, minor fixes needed"                    â”‚
â”‚                                                                 â”‚
â”‚  âœ“ Review submitted: Changes Requested                          â”‚
â”‚  ğŸ“¡ Nino notified                                               â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Step 5: Nino fixes code

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Nino - View review comments                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚  ğŸ”” PR #42: Changes Requested (Giorgi)                          â”‚
â”‚     2 comments                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚                                                                 â”‚
â”‚  > /plan:review #42 --comments                                  â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“‹ Comments on PR #42:                                         â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“„ src/auth/auth.service.ts                                    â”‚
â”‚                                                                 â”‚
â”‚  [Line 49] Giorgi:                                              â”‚
â”‚  â”‚ bcrypt.compare is async, needs await                         â”‚
â”‚  â”‚                                                              â”‚
â”‚  â”‚ > /plan:reply "You're right, fixing"                         â”‚
â”‚  â”‚ âœ“ Reply sent                                                 â”‚
â”‚                                                                 â”‚
â”‚  [Line 50] Giorgi:                                              â”‚
â”‚  â”‚ Use early return pattern                                     â”‚
â”‚  â”‚                                                              â”‚
â”‚  â”‚ > /plan:reply "Got it ğŸ‘"                                    â”‚
â”‚  â”‚ âœ“ Reply sent                                                 â”‚
â”‚                                                                 â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                â”‚
â”‚                                                                 â”‚
â”‚  (Nino fixes the code...)                                       â”‚
â”‚                                                                 â”‚
â”‚  > git add . && git commit -m "fix: add await to bcrypt"        â”‚
â”‚  > git push                                                     â”‚
â”‚                                                                 â”‚
â”‚  > /plan:review #42 --ready                                     â”‚
â”‚  âœ“ PR ready for re-review                                       â”‚
â”‚  ğŸ“¡ Giorgi notified                                             â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Step 6: Final approval and merge

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Giorgi - Final review                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  > /plan:review #42 --diff                                      â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“‹ New changes (+1 commit):                                    â”‚
â”‚                                                                 â”‚
â”‚   49 â”‚-  if (user && bcrypt.compare(password, user.password)) { â”‚
â”‚   49 â”‚+  if (!user) return null;                                â”‚
â”‚   50 â”‚+  const isValid = await bcrypt.compare(password,         â”‚
â”‚      â”‚+    user.password);                                      â”‚
â”‚   51 â”‚+  if (!isValid) return null;                             â”‚
â”‚   52 â”‚+  return user;                                           â”‚
â”‚                                                                 â”‚
â”‚  âœ… Fixes look correct                                          â”‚
â”‚                                                                 â”‚
â”‚  > /plan:approve #42 "LGTM! ğŸš€"                                 â”‚
â”‚                                                                 â”‚
â”‚  âœ“ PR #42 approved                                              â”‚
â”‚                                                                 â”‚
â”‚  Merge method:                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  [1] ğŸ”€ Merge commit                                    â”‚    â”‚
â”‚  â”‚  [2] ğŸ¯ Squash and merge (Recommended)                  â”‚    â”‚
â”‚  â”‚  [3] â© Rebase and merge                                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â”‚  > 2                                                            â”‚
â”‚                                                                 â”‚
â”‚  âœ“ PR #42 merged to main branch                                 â”‚
â”‚  âœ“ T2.1 automatically marked as DONE                            â”‚
â”‚  âœ“ feature/user-auth branch deleted                             â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“¡ Team notified                                               â”‚
â”‚  âš¡ T2.3, T2.4 unblocked (were dependent on T2.1)               â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 Review Statistics

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Website - Review Dashboard                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ğŸ“Š Review Metrics (Sprint 3)                                   â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                â”‚
â”‚                                                                 â”‚
â”‚  â±ï¸ Average review time: 4.2 hours                              â”‚
â”‚  ğŸ”„ Average iterations: 1.3                                     â”‚
â”‚  âœ… First-time approval rate: 68%                               â”‚
â”‚                                                                 â”‚
â”‚  ğŸ‘¤ Reviewer activity:                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ Reviewer â”‚ Reviews    â”‚ Avg Time â”‚ Approval% â”‚               â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚
â”‚  â”‚ Giorgi   â”‚ 12         â”‚ 3.5h     â”‚ 75%       â”‚               â”‚
â”‚  â”‚ Nino     â”‚ 5          â”‚ 6.2h     â”‚ 60%       â”‚               â”‚
â”‚  â”‚ Dato     â”‚ 8          â”‚ 4.8h     â”‚ 62%       â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                 â”‚
â”‚  ğŸ·ï¸ Common comment types:                                      â”‚
â”‚     â€¢ Code style (34%)                                          â”‚
â”‚     â€¢ Missing tests (28%)                                       â”‚
â”‚     â€¢ Performance (18%)                                         â”‚
â”‚     â€¢ Security (12%)                                            â”‚
â”‚     â€¢ Documentation (8%)                                        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.4 Review Configuration

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  /plan:settings review                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  âš™ï¸ Review Configuration                                        â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“‹ Required approvals: 1                                       â”‚
â”‚  ğŸ‘¤ Auto-assign reviewer: Team Lead                             â”‚
â”‚  ğŸš« Self-approve: Disabled                                      â”‚
â”‚  â° Review SLA: 24 hours                                         â”‚
â”‚                                                                 â”‚
â”‚  ğŸ”’ Branch protection:                                          â”‚
â”‚     â€¢ main: 2 approvals required                                â”‚
â”‚     â€¢ develop: 1 approval required                              â”‚
â”‚     â€¢ feature/*: 1 approval required                            â”‚
â”‚                                                                 â”‚
â”‚  ğŸ¤– Automated checks:                                           â”‚
â”‚     âœ… Tests must pass                                          â”‚
â”‚     âœ… No merge conflicts                                       â”‚
â”‚     âœ… Code coverage > 80%                                      â”‚
â”‚     â¬š Lint errors = 0 (optional)                               â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. Backend API Design

### 6.1 Database Schema

```sql
-- Users
CREATE TABLE users (
    id              UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    email           VARCHAR(255) UNIQUE NOT NULL,
    password_hash   VARCHAR(255) NOT NULL,
    name            VARCHAR(255) NOT NULL,
    avatar_url      VARCHAR(500),
    plan            VARCHAR(50) DEFAULT 'free',
    created_at      TIMESTAMP DEFAULT NOW(),
    updated_at      TIMESTAMP DEFAULT NOW()
);

-- Organizations/Teams
CREATE TABLE organizations (
    id              UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name            VARCHAR(255) NOT NULL,
    slug            VARCHAR(100) UNIQUE NOT NULL,
    owner_id        UUID REFERENCES users(id),
    created_at      TIMESTAMP DEFAULT NOW()
);

-- Organization Members
CREATE TABLE organization_members (
    id              UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    organization_id UUID REFERENCES organizations(id) ON DELETE CASCADE,
    user_id         UUID REFERENCES users(id) ON DELETE CASCADE,
    role            VARCHAR(50) DEFAULT 'developer',
    joined_at       TIMESTAMP DEFAULT NOW(),
    UNIQUE(organization_id, user_id)
);

-- Projects
CREATE TABLE projects (
    id              UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    organization_id UUID REFERENCES organizations(id) ON DELETE CASCADE,
    user_id         UUID REFERENCES users(id),
    name            VARCHAR(255) NOT NULL,
    slug            VARCHAR(100) NOT NULL,
    description     TEXT,
    plan_content    TEXT,
    plan_hash       VARCHAR(64),
    progress        INTEGER DEFAULT 0,
    github_repo     VARCHAR(500),
    created_at      TIMESTAMP DEFAULT NOW(),
    updated_at      TIMESTAMP DEFAULT NOW(),
    UNIQUE(organization_id, slug)
);

-- Tasks
CREATE TABLE tasks (
    id              UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    project_id      UUID REFERENCES projects(id) ON DELETE CASCADE,
    task_id         VARCHAR(20) NOT NULL,
    title           VARCHAR(500) NOT NULL,
    description     TEXT,
    status          VARCHAR(20) DEFAULT 'todo',
    priority        VARCHAR(20) DEFAULT 'medium',
    complexity      VARCHAR(20),
    phase           INTEGER DEFAULT 1,
    assigned_to     UUID REFERENCES users(id),
    estimated_hours DECIMAL(5,2),
    actual_hours    DECIMAL(5,2),
    due_date        DATE,
    blocked_reason  TEXT,
    created_at      TIMESTAMP DEFAULT NOW(),
    updated_at      TIMESTAMP DEFAULT NOW(),
    completed_at    TIMESTAMP,
    UNIQUE(project_id, task_id)
);

-- Task Dependencies
CREATE TABLE task_dependencies (
    id              UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    task_id         UUID REFERENCES tasks(id) ON DELETE CASCADE,
    depends_on_id   UUID REFERENCES tasks(id) ON DELETE CASCADE,
    UNIQUE(task_id, depends_on_id)
);

-- Comments
CREATE TABLE comments (
    id              UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    task_id         UUID REFERENCES tasks(id) ON DELETE CASCADE,
    user_id         UUID REFERENCES users(id),
    content         TEXT NOT NULL,
    created_at      TIMESTAMP DEFAULT NOW(),
    updated_at      TIMESTAMP DEFAULT NOW()
);

-- Activity Log
CREATE TABLE activity_log (
    id              UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    project_id      UUID REFERENCES projects(id) ON DELETE CASCADE,
    user_id         UUID REFERENCES users(id),
    action          VARCHAR(50) NOT NULL,
    entity_type     VARCHAR(50),
    entity_id       UUID,
    metadata        JSONB,
    created_at      TIMESTAMP DEFAULT NOW()
);

-- API Tokens (for MCP)
CREATE TABLE api_tokens (
    id              UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id         UUID REFERENCES users(id) ON DELETE CASCADE,
    name            VARCHAR(255) NOT NULL,
    token_hash      VARCHAR(255) NOT NULL,
    token_prefix    VARCHAR(10) NOT NULL,
    last_used_at    TIMESTAMP,
    expires_at      TIMESTAMP,
    created_at      TIMESTAMP DEFAULT NOW()
);

-- Subscriptions
CREATE TABLE subscriptions (
    id              UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id         UUID REFERENCES users(id) ON DELETE CASCADE,
    plan            VARCHAR(50) NOT NULL,
    status          VARCHAR(50) NOT NULL,
    payment_provider VARCHAR(50),
    external_id     VARCHAR(255),
    current_period_start TIMESTAMP,
    current_period_end   TIMESTAMP,
    cancel_at_period_end BOOLEAN DEFAULT FALSE,
    created_at      TIMESTAMP DEFAULT NOW()
);

-- Sprints
CREATE TABLE sprints (
    id              UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    project_id      UUID REFERENCES projects(id) ON DELETE CASCADE,
    name            VARCHAR(255) NOT NULL,
    start_date      DATE NOT NULL,
    end_date        DATE NOT NULL,
    status          VARCHAR(20) DEFAULT 'planned',
    created_at      TIMESTAMP DEFAULT NOW()
);

-- Sprint-Tasks Relationship
CREATE TABLE sprint_tasks (
    sprint_id       UUID REFERENCES sprints(id) ON DELETE CASCADE,
    task_id         UUID REFERENCES tasks(id) ON DELETE CASCADE,
    PRIMARY KEY(sprint_id, task_id)
);
```

### 6.2 API Endpoints

```yaml
# ================================
# Auth Endpoints
# ================================

POST /api/auth/register
  Request:
    email: string
    password: string
    name: string
  Response:
    user: User
    accessToken: string
    refreshToken: string

POST /api/auth/login
  Request:
    email: string
    password: string
  Response:
    user: User
    accessToken: string
    refreshToken: string

POST /api/auth/refresh
  Request:
    refreshToken: string
  Response:
    accessToken: string

POST /api/auth/logout
  Headers: Authorization: Bearer {token}

GET /api/auth/me
  Headers: Authorization: Bearer {token}
  Response:
    user: User

# ================================
# API Tokens (for MCP)
# ================================

GET /api/tokens
  â†’ List user's API tokens

POST /api/tokens
  Request:
    name: string
    expiresIn?: "30d" | "90d" | "1y" | "never"
  Response:
    token: string  # Only shown once!
    id: string

DELETE /api/tokens/:id

# ================================
# Projects
# ================================

GET /api/projects
  Query: organizationId?: string
  â†’ List accessible projects

POST /api/projects
  Request:
    organizationId?: string
    name: string
    slug: string
    description?: string
    planContent?: string

GET /api/projects/:id
  â†’ Project details with tasks summary

PUT /api/projects/:id
  Request:
    name?: string
    description?: string
    githubRepo?: string

DELETE /api/projects/:id

# ================================
# Plan Sync (Main MCP endpoints)
# ================================

GET /api/projects/:id/plan
  Response:
    content: string      # PROJECT_PLAN.md
    hash: string         # Content hash
    lastModified: string

PUT /api/projects/:id/plan
  Request:
    content: string
    baseHash?: string    # For conflict detection
  Response:
    hash: string
    conflict?: boolean
    serverContent?: string  # If conflict

POST /api/projects/:id/plan/parse
  Request:
    content: string
  Response:
    tasks: Task[]
    phases: Phase[]
    progress: number

# ================================
# Tasks
# ================================

GET /api/projects/:id/tasks
  Query:
    status?: string
    assignedTo?: string
    phase?: number
    sprint?: string
  â†’ List tasks with filters

GET /api/tasks/:id
  â†’ Task details with comments

PUT /api/tasks/:id
  Request:
    status?: string
    assignedTo?: string
    priority?: string
    dueDate?: string
    blockedReason?: string

POST /api/tasks/:id/comments
  Request:
    content: string

GET /api/tasks/:id/comments
  â†’ List task comments

# ================================
# Sprints
# ================================

GET /api/projects/:id/sprints
  â†’ List project sprints

POST /api/projects/:id/sprints
  Request:
    name: string
    startDate: string
    endDate: string
    taskIds: string[]

PUT /api/sprints/:id
  Request:
    status?: string
    taskIds?: string[]

GET /api/sprints/:id
  â†’ Sprint details with tasks

# ================================
# Activity & Notifications
# ================================

GET /api/projects/:id/activity
  Query:
    limit?: number
    before?: string
  â†’ Activity feed

GET /api/notifications
  â†’ User's notifications

PUT /api/notifications/:id/read

# ================================
# Team & Stats
# ================================

GET /api/projects/:id/team
  â†’ Team members with current tasks

GET /api/projects/:id/stats
  Response:
    totalTasks: number
    completedTasks: number
    progress: number
    byPhase: PhaseStats[]
    byMember: MemberStats[]
    velocity: number  # tasks/week

# ================================
# WebSocket Events (Real-time)
# ================================

WS /api/ws
  # After connection, subscribe:
  â†’ { type: "subscribe", projectId: "..." }

  # Events:
  â† { type: "task_updated", task: Task }
  â† { type: "comment_added", comment: Comment }
  â† { type: "user_online", user: User }
  â† { type: "plan_updated", hash: string }
```

---

## 7. MCP Server Implementation

### 7.1 MCP Tools

```typescript
// Available MCP Tools
const tools = [
  // Auth
  {
    name: 'planflow_login',
    description: 'Log in to PlanFlow with API token',
    inputSchema: {
      type: 'object',
      properties: {
        token: { type: 'string', description: 'API token (pf_live_...)' },
      },
      required: ['token'],
    },
  },
  {
    name: 'planflow_logout',
    description: 'Log out from PlanFlow',
  },
  {
    name: 'planflow_whoami',
    description: 'Show current user info',
  },

  // Projects
  {
    name: 'planflow_projects',
    description: 'List your projects',
  },
  {
    name: 'planflow_sync',
    description: 'Sync PROJECT_PLAN.md with server',
    inputSchema: {
      type: 'object',
      properties: {
        projectId: { type: 'string' },
        direction: { type: 'string', enum: ['push', 'pull'] },
        content: { type: 'string', description: 'Plan content (for push)' },
      },
      required: ['projectId', 'direction'],
    },
  },

  // Tasks
  {
    name: 'planflow_task_update',
    description: 'Update task status',
    inputSchema: {
      type: 'object',
      properties: {
        projectId: { type: 'string' },
        taskId: { type: 'string' },
        status: { type: 'string', enum: ['todo', 'in_progress', 'done', 'blocked'] },
      },
      required: ['projectId', 'taskId', 'status'],
    },
  },
  {
    name: 'planflow_task_next',
    description: 'Get recommendation for next task',
    inputSchema: {
      type: 'object',
      properties: {
        projectId: { type: 'string' },
      },
      required: ['projectId'],
    },
  },

  // Team
  {
    name: 'planflow_team',
    description: 'Show team members and their current tasks',
    inputSchema: {
      type: 'object',
      properties: {
        projectId: { type: 'string' },
      },
      required: ['projectId'],
    },
  },

  // Comments
  {
    name: 'planflow_comment',
    description: 'Add comment to a task',
    inputSchema: {
      type: 'object',
      properties: {
        projectId: { type: 'string' },
        taskId: { type: 'string' },
        content: { type: 'string' },
      },
      required: ['projectId', 'taskId', 'content'],
    },
  },
]
```

### 7.2 Claude Code MCP Configuration

```json
// ~/.claude/claude_desktop_config.json
{
  "mcpServers": {
    "planflow": {
      "command": "npx",
      "args": ["@planflow/mcp"],
      "env": {}
    }
  }
}
```

### 7.3 Usage Example

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Claude Code - Using MCP Tools                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  > Log me into planflow                                         â”‚
â”‚                                                                 â”‚
â”‚  ğŸ¤– Using planflow_login tool...                                â”‚
â”‚                                                                 â”‚
â”‚  You need a token. Go to Settings â†’ API Tokens                  â”‚
â”‚  at https://planflow.io and create a new token.                 â”‚
â”‚                                                                 â”‚
â”‚  > Here's the token: pf_live_abc123xyz                          â”‚
â”‚                                                                 â”‚
â”‚  ğŸ¤– [planflow_login]                                            â”‚
â”‚  âœ… Successfully logged in!                                     â”‚
â”‚  ğŸ‘¤ Giorgi Bekolozi                                             â”‚
â”‚  ğŸ“§ giorgi@example.com                                          â”‚
â”‚  ğŸ“¦ Plan: PRO                                                   â”‚
â”‚                                                                 â”‚
â”‚  > Show my projects                                             â”‚
â”‚                                                                 â”‚
â”‚  ğŸ¤– [planflow_projects]                                         â”‚
â”‚  ğŸ“‹ Your projects:                                              â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“ E-Commerce App (ecommerce)                                  â”‚
â”‚     Progress: 42% | Tasks: 24                                   â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“ Mobile App (mobile)                                         â”‚
â”‚     Progress: 15% | Tasks: 18                                   â”‚
â”‚                                                                 â”‚
â”‚  > Mark T2.1 as done                                            â”‚
â”‚                                                                 â”‚
â”‚  ğŸ¤– [planflow_task_update] taskId=T2.1, status=done             â”‚
â”‚  âœ… T2.1 updated: DONE                                          â”‚
â”‚  âš¡ Unblocked: T2.3, T2.4                                       â”‚
â”‚  ğŸ“Š Progress: 42% â†’ 46%                                         â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8. Business Model & Pricing

### 8.1 Pricing Tiers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   ğŸ†“ FREE                  ğŸ’¼ PRO                    ğŸ¢ TEAM                â”‚
â”‚   $0/month                 $12/month                 $29/user/month         â”‚
â”‚                                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   âœ… 3 projects            âœ… Unlimited projects     âœ… Everything in PRO   â”‚
â”‚   âœ… Local plans           âœ… Cloud Sync             âœ… Team management     â”‚
â”‚   âœ… /plan:new             âœ… Real-time Sync         âœ… Role-based access   â”‚
â”‚   âœ… /plan:next            âœ… GitHub Integration     âœ… Code Review flow    â”‚
â”‚   âœ… /plan:update          âœ… Export (all formats)   âœ… Sprint management   â”‚
â”‚   âŒ Cloud Sync            âœ… Activity History       âœ… Analytics dashboard â”‚
â”‚   âŒ Team features         âœ… Priority Support       âœ… SSO/SAML            â”‚
â”‚   âŒ GitHub Integration    âœ… API Access             âœ… Audit logs          â”‚
â”‚                                                      âœ… Custom integrations â”‚
â”‚                                                      âœ… Dedicated support   â”‚
â”‚                                                                             â”‚
â”‚   Ideal for:               Ideal for:               Ideal for:             â”‚
â”‚   Solo developers          Freelancers              Startups, Teams        â”‚
â”‚   Learning/Testing         Indie hackers            Agencies               â”‚
â”‚                            Small projects           Companies              â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 Enterprise Tier

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ›ï¸ ENTERPRISE - Custom Pricing                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Everything in TEAM, plus:                                      â”‚
â”‚                                                                 â”‚
â”‚  âœ… Self-hosted option (on-premise)                             â”‚
â”‚  âœ… SLA guarantee (99.9% uptime)                                â”‚
â”‚  âœ… Dedicated instance                                          â”‚
â”‚  âœ… Custom MCP integrations                                     â”‚
â”‚  âœ… Jira/Linear bi-directional sync                             â”‚
â”‚  âœ… Advanced security (SOC2, GDPR)                              â”‚
â”‚  âœ… Training & onboarding                                       â”‚
â”‚  âœ… Account manager                                             â”‚
â”‚                                                                 â”‚
â”‚  Ideal for: Large companies, Enterprises                        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.3 Revenue Projection

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Year 1 Projection (Conservative)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  FREE users:     5,000  (for funnel)                            â”‚
â”‚  PRO users:        500  Ã— $12 = $6,000/month                    â”‚
â”‚  TEAM users:       100  Ã— $29 = $2,900/month                    â”‚
â”‚                    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                    â”‚
â”‚  MRR:              ~$9,000/month                                â”‚
â”‚  ARR:              ~$108,000/year                               â”‚
â”‚                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Year 2-3 (Growth)                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  PRO users:      2,000  Ã— $12 = $24,000/month                   â”‚
â”‚  TEAM users:       500  Ã— $29 = $14,500/month                   â”‚
â”‚  Enterprise:         5  Ã— $500 = $2,500/month                   â”‚
â”‚                    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                    â”‚
â”‚  MRR:              ~$41,000/month                               â”‚
â”‚  ARR:              ~$492,000/year                               â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.4 Competitive Analysis

| Feature                 | PlanFlow       | Linear      | Jira        | GitHub Projects |
| ----------------------- | -------------- | ----------- | ----------- | --------------- |
| AI Planning             | âœ… Native      | âš ï¸ Limited  | âŒ No       | âŒ No           |
| CLI-First               | âœ… Yes         | âŒ Web only | âŒ Web only | âš ï¸ Basic        |
| Claude Code Integration | âœ… Deep        | âŒ No       | âŒ No       | âŒ No           |
| Auto Plan Generation    | âœ… Yes         | âŒ No       | âŒ No       | âŒ No           |
| Price/user              | $12-29         | $10         | $8-16       | $4              |
| Target                  | AI-native devs | Startups    | Enterprise  | Open source     |

---

## 9. MVP Implementation Plan

### 9.1 MVP Scope

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  In MVP                         Not in MVP (Post-MVP)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  âœ… User registration/login     âŒ Real-time WebSocket          â”‚
â”‚  âœ… API token generation        âŒ Team invitations             â”‚
â”‚  âœ… Project CRUD                âŒ Code review flow             â”‚
â”‚  âœ… Plan sync (push/pull)       âŒ GitHub integration           â”‚
â”‚  âœ… Task status updates         âŒ Sprint management            â”‚
â”‚  âœ… Basic web dashboard         âŒ Mobile app                   â”‚
â”‚  âœ… MCP server                  âŒ Jira/Linear import           â”‚
â”‚  âœ… Payment integration         âŒ Analytics dashboard          â”‚
â”‚  âœ… Landing page                âŒ SSO/SAML                     â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 9.2 Sprint-by-Sprint Plan

#### Sprint 1: Foundation (Week 1-2)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¯ Goal: Backend API skeleton + Database                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Day 1-2: Project Setup                                         â”‚
â”‚  â”œâ”€â”€ Monorepo initialization (Turborepo + pnpm)                 â”‚
â”‚  â”œâ”€â”€ PostgreSQL setup (Neon)                                    â”‚
â”‚  â”œâ”€â”€ Drizzle ORM configuration                                  â”‚
â”‚  â””â”€â”€ Basic CI/CD (GitHub Actions)                               â”‚
â”‚                                                                 â”‚
â”‚  Day 3-4: Database Schema                                       â”‚
â”‚  â”œâ”€â”€ Users table                                                â”‚
â”‚  â”œâ”€â”€ Projects table                                             â”‚
â”‚  â”œâ”€â”€ Tasks table                                                â”‚
â”‚  â”œâ”€â”€ API tokens table                                           â”‚
â”‚  â””â”€â”€ Subscriptions table                                        â”‚
â”‚                                                                 â”‚
â”‚  Day 5-7: Auth System                                           â”‚
â”‚  â”œâ”€â”€ Register endpoint                                          â”‚
â”‚  â”œâ”€â”€ Login endpoint (JWT)                                       â”‚
â”‚  â”œâ”€â”€ Token refresh                                              â”‚
â”‚  â”œâ”€â”€ API token generation                                       â”‚
â”‚  â””â”€â”€ Auth middleware                                            â”‚
â”‚                                                                 â”‚
â”‚  Day 8-10: Core API Endpoints                                   â”‚
â”‚  â”œâ”€â”€ GET/POST/PUT/DELETE /projects                              â”‚
â”‚  â”œâ”€â”€ GET/PUT /projects/:id/plan                                 â”‚
â”‚  â”œâ”€â”€ GET/PUT /projects/:id/tasks                                â”‚
â”‚  â””â”€â”€ API documentation (OpenAPI)                                â”‚
â”‚                                                                 â”‚
â”‚  âœ… Deliverable: Working API with auth                          â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Sprint 2: MCP Server (Week 3-4)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¯ Goal: Fully functional MCP server                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Day 1-3: MCP Foundation                                        â”‚
â”‚  â”œâ”€â”€ MCP SDK setup                                              â”‚
â”‚  â”œâ”€â”€ Server scaffolding                                         â”‚
â”‚  â”œâ”€â”€ Config management (token storage)                          â”‚
â”‚  â””â”€â”€ API client wrapper                                         â”‚
â”‚                                                                 â”‚
â”‚  Day 4-6: Auth & Project Tools                                  â”‚
â”‚  â”œâ”€â”€ planflow_login                                             â”‚
â”‚  â”œâ”€â”€ planflow_logout                                            â”‚
â”‚  â”œâ”€â”€ planflow_whoami                                            â”‚
â”‚  â”œâ”€â”€ planflow_projects                                          â”‚
â”‚  â”œâ”€â”€ planflow_create                                            â”‚
â”‚  â””â”€â”€ planflow_sync                                              â”‚
â”‚                                                                 â”‚
â”‚  Day 7-9: Task Tools                                            â”‚
â”‚  â”œâ”€â”€ planflow_task_list                                         â”‚
â”‚  â”œâ”€â”€ planflow_task_update                                       â”‚
â”‚  â”œâ”€â”€ planflow_task_next                                         â”‚
â”‚  â””â”€â”€ planflow_notifications                                     â”‚
â”‚                                                                 â”‚
â”‚  Day 10: Testing & Packaging                                    â”‚
â”‚  â”œâ”€â”€ Integration tests                                          â”‚
â”‚  â”œâ”€â”€ npm package setup                                          â”‚
â”‚  â””â”€â”€ Installation documentation                                 â”‚
â”‚                                                                 â”‚
â”‚  âœ… Deliverable: npm install @planflow/mcp                      â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Sprint 3: Web Dashboard (Week 5-6)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¯ Goal: Functional web interface                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Day 1-2: Auth Pages                                            â”‚
â”‚  â”œâ”€â”€ Login page                                                 â”‚
â”‚  â”œâ”€â”€ Register page                                              â”‚
â”‚  â”œâ”€â”€ Forgot password                                            â”‚
â”‚  â””â”€â”€ Auth state management                                      â”‚
â”‚                                                                 â”‚
â”‚  Day 3-5: Dashboard                                             â”‚
â”‚  â”œâ”€â”€ Projects list page                                         â”‚
â”‚  â”œâ”€â”€ Project detail page                                        â”‚
â”‚  â”‚   â”œâ”€â”€ Plan viewer (markdown)                                 â”‚
â”‚  â”‚   â”œâ”€â”€ Tasks kanban/list                                      â”‚
â”‚  â”‚   â””â”€â”€ Progress visualization                                 â”‚
â”‚  â””â”€â”€ Create project modal                                       â”‚
â”‚                                                                 â”‚
â”‚  Day 6-7: Settings                                              â”‚
â”‚  â”œâ”€â”€ Profile settings                                           â”‚
â”‚  â”œâ”€â”€ API tokens management                                      â”‚
â”‚  â”‚   â”œâ”€â”€ Generate new token                                     â”‚
â”‚  â”‚   â”œâ”€â”€ List tokens                                            â”‚
â”‚  â”‚   â””â”€â”€ Revoke token                                           â”‚
â”‚  â””â”€â”€ MCP setup instructions                                     â”‚
â”‚                                                                 â”‚
â”‚  Day 8-10: Payment Integration                                  â”‚
â”‚  â”œâ”€â”€ Pricing page                                               â”‚
â”‚  â”œâ”€â”€ Checkout flow                                              â”‚
â”‚  â”œâ”€â”€ Billing portal                                             â”‚
â”‚  â”œâ”€â”€ Webhook handlers                                           â”‚
â”‚  â””â”€â”€ Feature gating                                             â”‚
â”‚                                                                 â”‚
â”‚  âœ… Deliverable: Full web app with payments                     â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Sprint 4: Polish & Launch (Week 7-8)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¯ Goal: Production-ready product                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Day 1-3: Landing Page                                          â”‚
â”‚  â”œâ”€â”€ Hero section                                               â”‚
â”‚  â”œâ”€â”€ Features showcase                                          â”‚
â”‚  â”œâ”€â”€ Pricing comparison                                         â”‚
â”‚  â”œâ”€â”€ Demo video/GIF                                             â”‚
â”‚  â”œâ”€â”€ Testimonials (beta users)                                  â”‚
â”‚  â””â”€â”€ FAQ                                                        â”‚
â”‚                                                                 â”‚
â”‚  Day 4-5: Documentation                                         â”‚
â”‚  â”œâ”€â”€ Getting started guide                                      â”‚
â”‚  â”œâ”€â”€ MCP installation                                           â”‚
â”‚  â”œâ”€â”€ API reference                                              â”‚
â”‚  â””â”€â”€ Video tutorials                                            â”‚
â”‚                                                                 â”‚
â”‚  Day 6-7: Testing & QA                                          â”‚
â”‚  â”œâ”€â”€ End-to-end testing                                         â”‚
â”‚  â”œâ”€â”€ Security audit                                             â”‚
â”‚  â”œâ”€â”€ Performance testing                                        â”‚
â”‚  â””â”€â”€ Beta user feedback                                         â”‚
â”‚                                                                 â”‚
â”‚  Day 8-10: Launch                                               â”‚
â”‚  â”œâ”€â”€ Production deployment                                      â”‚
â”‚  â”œâ”€â”€ Monitoring setup (Sentry)                                  â”‚
â”‚  â”œâ”€â”€ Analytics (Plausible/PostHog)                              â”‚
â”‚  â”œâ”€â”€ Product Hunt submission                                    â”‚
â”‚  â””â”€â”€ Social media announcements                                 â”‚
â”‚                                                                 â”‚
â”‚  âœ… Deliverable: Live product!                                  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 10. Code Examples

### 10.1 Database Schema (Drizzle)

```typescript
// packages/db/schema.ts
import { pgTable, uuid, varchar, text, timestamp, boolean, integer } from 'drizzle-orm/pg-core'

export const users = pgTable('users', {
  id: uuid('id').primaryKey().defaultRandom(),
  email: varchar('email', { length: 255 }).notNull().unique(),
  passwordHash: varchar('password_hash', { length: 255 }).notNull(),
  name: varchar('name', { length: 255 }).notNull(),
  avatarUrl: varchar('avatar_url', { length: 500 }),
  plan: varchar('plan', { length: 50 }).default('free').notNull(),
  createdAt: timestamp('created_at').defaultNow().notNull(),
  updatedAt: timestamp('updated_at').defaultNow().notNull(),
})

export const projects = pgTable('projects', {
  id: uuid('id').primaryKey().defaultRandom(),
  userId: uuid('user_id')
    .references(() => users.id, { onDelete: 'cascade' })
    .notNull(),
  name: varchar('name', { length: 255 }).notNull(),
  slug: varchar('slug', { length: 100 }).notNull(),
  description: text('description'),
  planContent: text('plan_content'),
  planHash: varchar('plan_hash', { length: 64 }),
  progress: integer('progress').default(0),
  createdAt: timestamp('created_at').defaultNow().notNull(),
  updatedAt: timestamp('updated_at').defaultNow().notNull(),
})

export const tasks = pgTable('tasks', {
  id: uuid('id').primaryKey().defaultRandom(),
  projectId: uuid('project_id')
    .references(() => projects.id, { onDelete: 'cascade' })
    .notNull(),
  taskId: varchar('task_id', { length: 20 }).notNull(),
  title: varchar('title', { length: 500 }).notNull(),
  description: text('description'),
  status: varchar('status', { length: 20 }).default('todo').notNull(),
  priority: varchar('priority', { length: 20 }).default('medium'),
  complexity: varchar('complexity', { length: 20 }),
  phase: integer('phase').default(1),
  estimatedHours: integer('estimated_hours'),
  createdAt: timestamp('created_at').defaultNow().notNull(),
  updatedAt: timestamp('updated_at').defaultNow().notNull(),
  completedAt: timestamp('completed_at'),
})

export const apiTokens = pgTable('api_tokens', {
  id: uuid('id').primaryKey().defaultRandom(),
  userId: uuid('user_id')
    .references(() => users.id, { onDelete: 'cascade' })
    .notNull(),
  name: varchar('name', { length: 255 }).notNull(),
  tokenHash: varchar('token_hash', { length: 255 }).notNull(),
  tokenPrefix: varchar('token_prefix', { length: 10 }).notNull(),
  lastUsedAt: timestamp('last_used_at'),
  expiresAt: timestamp('expires_at'),
  createdAt: timestamp('created_at').defaultNow().notNull(),
})
```

### 10.2 Backend API (Hono)

```typescript
// apps/api/src/app.ts
import { Hono } from 'hono'
import { cors } from 'hono/cors'
import { logger } from 'hono/logger'
import { authRoutes } from './routes/auth'
import { projectRoutes } from './routes/projects'
import { taskRoutes } from './routes/tasks'
import { tokenRoutes } from './routes/tokens'
import { authMiddleware } from './middleware/auth'

const app = new Hono()

// Middleware
app.use('*', logger())
app.use(
  '*',
  cors({
    origin: ['http://localhost:3000', 'https://planflow.io'],
    credentials: true,
  })
)

// Public routes
app.route('/api/auth', authRoutes)

// Protected routes
app.use('/api/*', authMiddleware)
app.route('/api/projects', projectRoutes)
app.route('/api/tasks', taskRoutes)
app.route('/api/tokens', tokenRoutes)

// Health check
app.get('/health', (c) => c.json({ status: 'ok' }))

export default app
```

```typescript
// apps/api/src/routes/auth.ts
import { Hono } from 'hono'
import { zValidator } from '@hono/zod-validator'
import { z } from 'zod'
import { db } from '../lib/db'
import { users } from '@planflow/db'
import { hashPassword, verifyPassword, generateToken } from '../lib/auth'
import { eq } from 'drizzle-orm'

const authRoutes = new Hono()

const registerSchema = z.object({
  email: z.string().email(),
  password: z.string().min(8),
  name: z.string().min(2),
})

authRoutes.post('/register', zValidator('json', registerSchema), async (c) => {
  const { email, password, name } = c.req.valid('json')

  const existing = await db.query.users.findFirst({
    where: eq(users.email, email),
  })

  if (existing) {
    return c.json({ error: 'Email already registered' }, 400)
  }

  const passwordHash = await hashPassword(password)
  const [user] = await db
    .insert(users)
    .values({
      email,
      passwordHash,
      name,
    })
    .returning()

  const token = generateToken(user.id)

  return c.json({
    user: { id: user.id, email: user.email, name: user.name },
    token,
  })
})

authRoutes.post(
  '/login',
  zValidator(
    'json',
    z.object({
      email: z.string().email(),
      password: z.string(),
    })
  ),
  async (c) => {
    const { email, password } = c.req.valid('json')

    const user = await db.query.users.findFirst({
      where: eq(users.email, email),
    })

    if (!user || !(await verifyPassword(password, user.passwordHash))) {
      return c.json({ error: 'Invalid credentials' }, 401)
    }

    const token = generateToken(user.id)

    return c.json({
      user: { id: user.id, email: user.email, name: user.name, plan: user.plan },
      token,
    })
  }
)

export { authRoutes }
```

### 10.3 MCP Server

```typescript
// apps/mcp/src/index.ts
#!/usr/bin/env node
import { Server } from '@modelcontextprotocol/sdk/server/index.js';
import { StdioServerTransport } from '@modelcontextprotocol/sdk/server/stdio.js';
import {
  ListToolsRequestSchema,
  CallToolRequestSchema,
} from '@modelcontextprotocol/sdk/types.js';
import { tools, handleToolCall } from './tools/index.js';
import { ApiClient } from './api-client.js';
import { ConfigManager } from './config.js';

const server = new Server(
  { name: 'planflow', version: '1.0.0' },
  { capabilities: { tools: {} } }
);

const config = new ConfigManager();
const api = new ApiClient(config);

server.setRequestHandler(ListToolsRequestSchema, async () => ({
  tools,
}));

server.setRequestHandler(CallToolRequestSchema, async (request) => {
  const { name, arguments: args } = request.params;
  return handleToolCall(name, args || {}, api, config);
});

async function main() {
  const transport = new StdioServerTransport();
  await server.connect(transport);
  console.error('PlanFlow MCP Server started');
}

main().catch(console.error);
```

```typescript
// apps/mcp/src/api-client.ts
import { ConfigManager } from './config.js'

export class ApiClient {
  constructor(private config: ConfigManager) {}

  private async request(method: string, path: string, body?: unknown) {
    const token = this.config.getToken()
    if (!token) {
      throw new Error('Not logged in. Use planflow_login first.')
    }

    const baseUrl = this.config.getServerUrl()
    const response = await fetch(`${baseUrl}${path}`, {
      method,
      headers: {
        'Content-Type': 'application/json',
        Authorization: `Bearer ${token}`,
      },
      body: body ? JSON.stringify(body) : undefined,
    })

    if (!response.ok) {
      const error = await response.json().catch(() => ({}))
      throw new Error(error.error || `API Error: ${response.status}`)
    }

    return response.json()
  }

  get(path: string) {
    return this.request('GET', path)
  }
  post(path: string, body: unknown) {
    return this.request('POST', path, body)
  }
  put(path: string, body: unknown) {
    return this.request('PUT', path, body)
  }
  delete(path: string) {
    return this.request('DELETE', path)
  }
}
```

```typescript
// apps/mcp/src/config.ts
import * as fs from 'fs'
import * as path from 'path'
import * as os from 'os'

const CONFIG_DIR = path.join(os.homedir(), '.config', 'planflow')
const CONFIG_FILE = path.join(CONFIG_DIR, 'config.json')

interface Config {
  token?: string
  serverUrl: string
}

export class ConfigManager {
  private config: Config

  constructor() {
    this.config = this.load()
  }

  private load(): Config {
    try {
      if (fs.existsSync(CONFIG_FILE)) {
        return JSON.parse(fs.readFileSync(CONFIG_FILE, 'utf-8'))
      }
    } catch {}
    return { serverUrl: 'https://api.planflow.io' }
  }

  save() {
    if (!fs.existsSync(CONFIG_DIR)) {
      fs.mkdirSync(CONFIG_DIR, { recursive: true })
    }
    fs.writeFileSync(CONFIG_FILE, JSON.stringify(this.config, null, 2))
  }

  getToken() {
    return this.config.token
  }
  setToken(token: string) {
    this.config.token = token
  }
  clearToken() {
    delete this.config.token
    this.save()
  }
  getServerUrl() {
    return this.config.serverUrl
  }
}
```

---

## 11. Deployment & Infrastructure

### 11.1 Docker Compose (Local Development)

```yaml
# docker-compose.yml
version: '3.8'

services:
  postgres:
    image: postgres:16-alpine
    environment:
      POSTGRES_USER: planflow
      POSTGRES_PASSWORD: planflow
      POSTGRES_DB: planflow
    ports:
      - '5432:5432'
    volumes:
      - postgres_data:/var/lib/postgresql/data

  redis:
    image: redis:7-alpine
    ports:
      - '6379:6379'

volumes:
  postgres_data:
```

### 11.2 GitHub Actions CI/CD

```yaml
# .github/workflows/deploy.yml
name: Deploy

on:
  push:
    branches: [main]

jobs:
  deploy-api:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: pnpm/action-setup@v2
      - uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'pnpm'

      - run: pnpm install
      - run: pnpm build --filter=api

      - name: Deploy to Railway
        uses: bervProject/railway-deploy@v1.0.0
        with:
          railway_token: ${{ secrets.RAILWAY_TOKEN }}
          service: api

  deploy-web:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: amondnet/vercel-action@v25
        with:
          vercel-token: ${{ secrets.VERCEL_TOKEN }}
          vercel-org-id: ${{ secrets.VERCEL_ORG_ID }}
          vercel-project-id: ${{ secrets.VERCEL_PROJECT_ID }}
          working-directory: ./apps/web

  publish-mcp:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: pnpm/action-setup@v2
      - uses: actions/setup-node@v4
        with:
          node-version: '20'
          registry-url: 'https://registry.npmjs.org'

      - run: pnpm install
      - run: pnpm build --filter=mcp
      - run: pnpm publish --filter=mcp --access public
        env:
          NODE_AUTH_TOKEN: ${{ secrets.NPM_TOKEN }}
```

### 11.3 Cost Estimate (Monthly)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Infrastructure Costs (MVP)                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ğŸ—„ï¸ Database (Neon):           $0-19/mo (free tier available)   â”‚
â”‚  ğŸš€ API Hosting (Railway):     $5-20/mo                         â”‚
â”‚  ğŸŒ Web Hosting (Vercel):      $0-20/mo (free tier available)   â”‚
â”‚  ğŸ“§ Email (Resend):            $0-20/mo                         â”‚
â”‚  ğŸ“Š Analytics (Plausible):     $9/mo                            â”‚
â”‚  ğŸ” Error Tracking (Sentry):   $0-26/mo                         â”‚
â”‚                                â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”‚
â”‚  Total:                        ~$20-100/month                   â”‚
â”‚                                                                 â”‚
â”‚  ğŸ’¡ Note: Can start with $0 using free tiers!                   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 12. Payment Alternatives (Non-Stripe)

Since Stripe is not available in Georgia, here are alternative payment solutions:

### 12.1 Recommended Alternatives

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Payment Provider Alternatives                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ğŸ‹ LemonSqueezy (Recommended)                                  â”‚
â”‚     â€¢ Works globally, including Georgia                         â”‚
â”‚     â€¢ Built-in subscription management                          â”‚
â”‚     â€¢ Handles taxes automatically                               â”‚
â”‚     â€¢ Fee: 5% + $0.50 per transaction                          â”‚
â”‚     â€¢ URL: https://lemonsqueezy.com                            â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“ Paddle                                                      â”‚
â”‚     â€¢ Merchant of Record (handles all taxes)                    â”‚
â”‚     â€¢ Works in 200+ countries                                   â”‚
â”‚     â€¢ Fee: 5% + $0.50 per transaction                          â”‚
â”‚     â€¢ URL: https://paddle.com                                  â”‚
â”‚                                                                 â”‚
â”‚  ğŸ’³ PayPal                                                      â”‚
â”‚     â€¢ Works in Georgia                                          â”‚
â”‚     â€¢ Lower trust for SaaS subscriptions                        â”‚
â”‚     â€¢ Fee: 2.9% + $0.30                                        â”‚
â”‚                                                                 â”‚
â”‚  ğŸ¦ Local Bank Integration                                      â”‚
â”‚     â€¢ BOG (Bank of Georgia) - iPay                             â”‚
â”‚     â€¢ TBC Bank - TBC Pay                                       â”‚
â”‚     â€¢ Best for Georgian customers                               â”‚
â”‚     â€¢ Lower fees for local transactions                         â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 12.2 LemonSqueezy Integration Example

```typescript
// apps/api/src/services/payment.ts
import { lemonSqueezySetup, createCheckout, getSubscription } from '@lemonsqueezy/lemonsqueezy.js'

// Initialize
lemonSqueezySetup({
  apiKey: process.env.LEMONSQUEEZY_API_KEY!,
})

// Product IDs (from LemonSqueezy dashboard)
const PRODUCTS = {
  pro: process.env.LEMONSQUEEZY_PRO_VARIANT_ID!,
  team: process.env.LEMONSQUEEZY_TEAM_VARIANT_ID!,
}

export async function createSubscriptionCheckout(
  userId: string,
  email: string,
  plan: 'pro' | 'team'
) {
  const checkout = await createCheckout({
    storeId: process.env.LEMONSQUEEZY_STORE_ID!,
    variantId: PRODUCTS[plan],
    checkoutData: {
      email,
      custom: {
        user_id: userId,
      },
    },
  })

  return checkout.data?.data.attributes.url
}

export async function handleWebhook(payload: any, signature: string) {
  // Verify webhook signature
  // Process subscription events
  const event = payload.meta.event_name

  switch (event) {
    case 'subscription_created':
      // Activate user subscription
      break
    case 'subscription_updated':
      // Update subscription status
      break
    case 'subscription_cancelled':
      // Handle cancellation
      break
  }
}
```

### 12.3 Hybrid Approach

For Georgian customers, you can offer:

1. **International customers**: LemonSqueezy/Paddle
2. **Georgian customers**: Bank transfer or BOG/TBC integration
3. **Crypto option**: USDT/USDC payments (optional)

```typescript
// apps/api/src/routes/billing.ts
import { Hono } from 'hono'

const billingRoutes = new Hono()

billingRoutes.post('/checkout', async (c) => {
  const { plan, paymentMethod } = await c.req.json()
  const user = c.get('user')

  switch (paymentMethod) {
    case 'card':
      // LemonSqueezy checkout
      const url = await createLemonSqueezyCheckout(user.id, user.email, plan)
      return c.json({ checkoutUrl: url })

    case 'bank_transfer':
      // Generate invoice for bank transfer
      const invoice = await createBankTransferInvoice(user.id, plan)
      return c.json({
        invoiceId: invoice.id,
        bankDetails: {
          bank: 'Bank of Georgia',
          account: 'GE00BG0000000000000000',
          amount: plan === 'pro' ? 12 : 29,
          currency: 'USD',
          reference: invoice.reference,
        },
      })

    default:
      return c.json({ error: 'Invalid payment method' }, 400)
  }
})
```

---

## Summary

This document outlines the complete vision and implementation plan for PlanFlow - an AI-native project management tool for Claude Code. Key points:

1. **Problem**: Developers waste time context-switching between code and project management tools
2. **Solution**: Deep integration with Claude Code via MCP, enabling seamless task management from the terminal
3. **Business Model**: Freemium with PRO ($12/mo) and TEAM ($29/user/mo) tiers
4. **Tech Stack**: Node.js, Hono, PostgreSQL, Next.js, MCP SDK
5. **MVP Timeline**: 8 weeks to production-ready launch
6. **Payment**: LemonSqueezy as primary (Stripe alternative for Georgia)

### Next Steps

1. [ ] Set up monorepo structure
2. [ ] Initialize database with Neon
3. [ ] Build auth system
4. [ ] Create MCP server
5. [ ] Build web dashboard
6. [ ] Integrate LemonSqueezy
7. [ ] Launch on Product Hunt

---

_Document generated: 2026-01-28_
_Version: 1.0.0_
