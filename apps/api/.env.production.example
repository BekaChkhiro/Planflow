# PlanFlow API - Production Environment Variables
# Copy this file and set values in your deployment platform (Railway, etc.)

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
PORT=3001
NODE_ENV=production

# =============================================================================
# DATABASE (Neon PostgreSQL)
# =============================================================================
# Get your connection strings from https://console.neon.tech
# Use the POOLED connection for serverless environments (recommended for production)

# Direct connection (for migrations)
DATABASE_URL=postgresql://user:password@ep-xxx.us-east-2.aws.neon.tech/planflow?sslmode=require

# Pooled connection (for application - required for serverless)
DATABASE_URL_POOLED=postgresql://user:password@ep-xxx-pooler.us-east-2.aws.neon.tech/planflow?sslmode=require

# =============================================================================
# AUTHENTICATION
# =============================================================================
# Generate a secure secret: openssl rand -base64 64
JWT_SECRET=CHANGE_ME_TO_A_SECURE_64_CHAR_SECRET

# Token expiration in seconds (default: 24 hours)
JWT_EXPIRATION=86400

# =============================================================================
# LEMONSQUEEZY PAYMENTS
# =============================================================================
# Get these from https://app.lemonsqueezy.com/settings/api
LEMON_SQUEEZY_API_KEY=
LEMON_SQUEEZY_STORE_ID=
LEMON_SQUEEZY_PRO_VARIANT_ID=
LEMON_SQUEEZY_TEAM_VARIANT_ID=

# Webhook secret for signature verification
# Get from LemonSqueezy webhook settings
LEMON_SQUEEZY_WEBHOOK_SECRET=

# =============================================================================
# EMAIL SERVICE (Resend)
# =============================================================================
# Get your API key from https://resend.com/api-keys
RESEND_API_KEY=

# Sender email (must be verified domain in Resend)
RESEND_FROM_EMAIL=PlanFlow <notifications@planflow.tools>

# =============================================================================
# APPLICATION URLs
# =============================================================================
# Production URLs for your deployed application
APP_URL=https://app.planflow.tools
API_URL=https://api.planflow.tools

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Comma-separated list of allowed origins (no spaces)
CORS_ORIGINS=https://app.planflow.tools,https://planflow.tools

# =============================================================================
# GITHUB INTEGRATION (Optional)
# =============================================================================
# Create OAuth App at https://github.com/settings/developers
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_REDIRECT_URI=https://api.planflow.tools/integrations/github/callback

# GitHub Webhook Secret (T8.5 - Auto-update task status on PR merge)
# Generate a secure secret: openssl rand -hex 32
# Configure webhook at: https://github.com/{owner}/{repo}/settings/hooks
# Payload URL: https://api.planflow.tools/webhooks/github
# Content type: application/json
# Events: Pull requests
GITHUB_WEBHOOK_SECRET=

# =============================================================================
# RATE LIMITING
# =============================================================================
# Adjust based on your expected traffic
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=60000

# =============================================================================
# LOGGING
# =============================================================================
# Log level: debug, info, warn, error
LOG_LEVEL=info

# =============================================================================
# ERROR TRACKING (Sentry)
# =============================================================================
# Get your DSN from https://sentry.io/settings/projects/
SENTRY_DSN=
# Optional: Force enable Sentry in non-production (for testing)
# SENTRY_ENABLED=true

# =============================================================================
# PUSH NOTIFICATIONS (T6.8)
# =============================================================================
# Generate VAPID keys with: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
# Contact email for push service providers
VAPID_SUBJECT=mailto:support@planflow.tools
